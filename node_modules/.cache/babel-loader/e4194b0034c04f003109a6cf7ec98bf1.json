{"remainingRequest":"/Users/chak/omega/node_modules/babel-loader/lib/index.js!/Users/chak/omega/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chak/omega/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/chak/omega/src/components/Chat.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/chak/omega/src/components/Chat.vue","mtime":1602602570000},{"path":"/Users/chak/omega/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chak/omega/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chak/omega/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chak/omega/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jaGFrL29tZWdhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5kYi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLm9yZGVyQnkoJ2NyZWF0ZWRBdCcpLm9uU25hcHNob3QoZnVuY3Rpb24gKHF1ZXJ5U25hcCkgewogICAgICBfdGhpcy5tZXNzYWdlcyA9IHF1ZXJ5U25hcC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgcmV0dXJuIGRvYy5kYXRhKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLAogICAgICBkYjogZmlyZWJhc2UuZmlyZXN0b3JlKCksCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBtZXNzYWdlczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTsKICAgIH0sCiAgICBzZW50T3JSZWNlaXZlZDogZnVuY3Rpb24gc2VudE9yUmVjZWl2ZWQodXNlclVJRCkgewogICAgICByZXR1cm4gdXNlclVJRCA9PT0gdGhpcy51c2VyLnVpZCA/ICdzZW50JyA6ICdyZWNlaXZlZCc7CiAgICB9LAogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG1lc3NhZ2VJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG1lc3NhZ2VJbmZvID0gewogICAgICAgICAgICAgICAgICAndXNlclVJRCc6IF90aGlzMi51c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXlOYW1lJzogX3RoaXMyLnVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICAgICdwaG90b1VSTCc6IF90aGlzMi51c2VyLnBob3RvVVJMLAogICAgICAgICAgICAgICAgICAndGV4dCc6IF90aGlzMi5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAnY3JlYXRlZEF0JzogRGF0ZS5ub3coKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5kYi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLmFkZChtZXNzYWdlSW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlID0gJyc7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzWydzY3JvbGxhYmxlJ10uc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/chak/omega/src/components/Chat.vue"],"names":[],"mappings":";;;AA2BA,OAAO,QAAP,MAAqB,UAArB;AAEA,eAAe;AACb,EAAA,OADa,qBACH;AAAA;;AACR,SAAK,EAAL,CAAQ,UAAR,CAAmB,UAAnB,EAA+B,OAA/B,CAAuC,WAAvC,EACK,UADL,CACgB,UAAA,SAAQ,EAAK;AACvB,MAAA,KAAI,CAAC,QAAL,GAAgB,SAAS,CAAC,IAAV,CAAe,GAAf,CAAmB,UAAA,GAAE;AAAA,eAAK,GAAG,CAAC,IAAJ,EAAL;AAAA,OAArB,CAAhB;AACD,KAHL;AAID,GANY;AAOb,EAAA,IAPa,kBAON;AACL,WAAO;AACL,MAAA,IAAI,EAAE,QAAQ,CAAC,IAAT,GAAgB,WADjB;AAEL,MAAA,EAAE,EAAE,QAAQ,CAAC,SAAT,EAFC;AAGL,MAAA,OAAO,EAAE,EAHJ;AAIL,MAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GAdY;AAeb,EAAA,OAAO,EAAE;AACP,IAAA,MADO,oBACE;AACP,MAAA,QAAQ,CAAC,IAAT,GAAgB,OAAhB;AACD,KAHM;AAIP,IAAA,cAJO,0BAIQ,OAJR,EAIiB;AACtB,aAAO,OAAM,KAAM,KAAK,IAAL,CAAU,GAAtB,GAA4B,MAA5B,GAAqC,UAA5C;AACD,KANM;AAOD,IAAA,WAPC,yBAOa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZ,gBAAA,WAFY,GAEE;AAClB,6BAAW,MAAI,CAAC,IAAL,CAAU,GADH;AAElB,iCAAe,MAAI,CAAC,IAAL,CAAU,WAFP;AAGlB,8BAAY,MAAI,CAAC,IAAL,CAAU,QAHJ;AAIlB,0BAAQ,MAAI,CAAC,OAJK;AAKlB,+BAAa,IAAI,CAAC,GAAL;AALK,iBAFF;AAAA;AAAA,uBAUZ,MAAI,CAAC,EAAL,CAAQ,UAAR,CAAmB,UAAnB,EAA+B,GAA/B,CAAmC,WAAnC,CAVY;;AAAA;AAYlB,gBAAA,MAAI,CAAC,OAAL,GAAe,EAAf;;AACA,gBAAA,MAAI,CAAC,KAAL,CAAW,YAAX,EAAyB,cAAzB,CAAwC;AAAE,kBAAA,QAAQ,EAAE;AAAZ,iBAAxC;;AAbkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcpB;AArBO;AAfI,CAAf","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <header>\n      <h1>Chat with Firebase!</h1>\n      <button @click=\"logout\">Logout!</button>\n    </header>\n\n    <section>\n      <main>\n        <div v-for=\"(msg, index) in messages\" v-bind:key=\"'index-'+index\"\n             :class=\"['message', sentOrReceived(msg.userUID)]\">\n          <img :src=\"msg.photoURL\" :alt=\"msg.displayName\">\n          <p>{{ msg.text }}</p>\n        </div>\n\n        <div ref=\"scrollable\"></div>\n      </main>\n\n      <form v-on:submit.prevent=\"sendMessage\">\n        <input v-model=\"message\" type=\"text\" placeholder=\"Enter your message!\">\n        <button :disabled=\"!message\" type=\"submit\">ðŸ“©</button>\n      </form>\n    </section>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase'\n\nexport default {\n  mounted() {\n    this.db.collection('messages').orderBy('createdAt')\n        .onSnapshot(querySnap => {\n          this.messages = querySnap.docs.map(doc => doc.data())\n        })\n  },\n  data() {\n    return {\n      user: firebase.auth().currentUser,\n      db: firebase.firestore(),\n      message: '',\n      messages: [],\n    }\n  },\n  methods: {\n    logout() {\n      firebase.auth().signOut()\n    },\n    sentOrReceived(userUID) {\n      return userUID === this.user.uid ? 'sent' : 'received'\n    },\n    async sendMessage() {\n\n      const messageInfo = {\n        'userUID': this.user.uid,\n        'displayName': this.user.displayName,\n        'photoURL': this.user.photoURL,\n        'text': this.message,\n        'createdAt': Date.now(),\n      }\n\n      await this.db.collection('messages').add(messageInfo)\n\n      this.message = ''\n      this.$refs['scrollable'].scrollIntoView({ behavior: 'smooth' })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  body {\n    margin: 0;\n    font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Roboto\",\"Oxygen\",\"Ubuntu\",\"Cantarell\",\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif;\n  }\n\n  .wrapper {\n    text-align: center;\n    max-width: 728px;\n    margin: 0 auto;\n\n    header {\n      background-color: #181717;\n      height: 10vh;\n      min-height: 50px;\n      color: white;\n      position: fixed;\n      width: 100%;\n      max-width: 728px;\n      top: 0;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      z-index: 99;\n      padding: 10px;\n      box-sizing: border-box;\n    }\n\n    section {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      min-height: 100vh;\n      background-color: rgb(40, 37, 53);\n\n      main {\n        padding: 10px;\n        height: 75vh;\n        margin: 10vh 0 10vh;\n        overflow-y: scroll;\n        display: flex;\n        flex-direction: column;\n\n        &::-webkit-scrollbar {\n          width: 0.25rem;\n        }\n\n        &::-webkit-scrollbar-track {\n          background: #1e1e24;\n        }\n\n        &::-webkit-scrollbar-thumb {\n          background: #6649b8;\n        }\n      }\n\n      form {\n        height: 10vh;\n        position: fixed;\n        bottom: 0;\n        background-color: rgb(24, 23, 23);\n        width: 100%;\n        max-width: 728px;\n        display: flex;\n        font-size: 1.5rem;\n\n        button {\n          width: 20%;\n          background-color: rgb(56, 56, 143);\n        }\n\n        input {\n          line-height: 1.5;\n          width: 100%;\n          font-size: 1.5rem;\n          background: rgb(58, 58, 58);\n          color: white;\n          outline: none;\n          border: none;\n          padding: 0 10px;\n        }\n      }\n    }\n\n    button {\n      background-color: #282c34; /* Green */\n      border: none;\n      color: white;\n      padding: 15px 32px;\n      text-align: center;\n      text-decoration: none;\n      display: inline-block;\n      cursor: pointer;\n      font-size: 1.25rem;\n\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n    }\n\n    button, input {\n      color: #fff;\n      border: none;\n    }\n\n    p {\n      max-width: 500px;\n      margin-bottom: 12px;\n      line-height: 24px;\n      padding: 10px 20px;\n      border-radius: 25px;\n      position: relative;\n      color: white;\n      text-align: center;\n    }\n\n    .message {\n      display: flex;\n      align-items: center;\n\n      &.received {\n        p {\n          background: #e5e5ea;\n          color: #000;\n        }\n      }\n\n      &.sent {\n        flex-direction: row-reverse;\n\n        p {\n          color: #fff;\n          background: #0b93f6;\n          align-self: flex-end;\n        }\n      }\n\n      img {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        margin: 2px 5px;\n      }\n\n      p {\n        max-width: 500px;\n        margin-bottom: 12px;\n        line-height: 24px;\n        padding: 10px 20px;\n        border-radius: 25px;\n        position: relative;\n        color: #fff;\n        text-align: center;\n      }\n\n\n    }\n  }\n\n</style>"],"sourceRoot":""}]}