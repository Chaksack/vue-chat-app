{"remainingRequest":"/Users/chak/omega/node_modules/thread-loader/dist/cjs.js!/Users/chak/omega/node_modules/babel-loader/lib/index.js!/Users/chak/omega/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chak/omega/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chak/omega/src/components/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chak/omega/src/components/Chat.vue","mtime":1616984287628},{"path":"/Users/chak/omega/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chak/omega/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chak/omega/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chak/omega/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chak/omega/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NoYWsvb21lZ2Evbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5kYi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLm9yZGVyQnkoJ2NyZWF0ZWRBdCcpLm9uU25hcHNob3QoZnVuY3Rpb24gKHF1ZXJ5U25hcCkgewogICAgICBfdGhpcy5tZXNzYWdlcyA9IHF1ZXJ5U25hcC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgcmV0dXJuIGRvYy5kYXRhKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLAogICAgICBkYjogZmlyZWJhc2UuZmlyZXN0b3JlKCksCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBtZXNzYWdlczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTsKICAgIH0sCiAgICBzZW50T3JSZWNlaXZlZDogZnVuY3Rpb24gc2VudE9yUmVjZWl2ZWQodXNlclVJRCkgewogICAgICByZXR1cm4gdXNlclVJRCA9PT0gdGhpcy51c2VyLnVpZCA/ICdzZW50JyA6ICdyZWNlaXZlZCc7CiAgICB9LAogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG1lc3NhZ2VJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG1lc3NhZ2VJbmZvID0gewogICAgICAgICAgICAgICAgICAndXNlclVJRCc6IF90aGlzMi51c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXlOYW1lJzogX3RoaXMyLnVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICAgICdwaG90b1VSTCc6IF90aGlzMi51c2VyLnBob3RvVVJMLAogICAgICAgICAgICAgICAgICAndGV4dCc6IF90aGlzMi5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAnY3JlYXRlZEF0JzogRGF0ZS5ub3coKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5kYi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLmFkZChtZXNzYWdlSW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlID0gJyc7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzWydzY3JvbGxhYmxlJ10uc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,SAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,OAAA,CAAA,WAAA,EACA,UADA,CACA,UAAA,SAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,SAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAHA;AAIA,GANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,QAAA,CAAA,IAAA,GAAA,WADA;AAEA,MAAA,EAAA,EAAA,QAAA,CAAA,SAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,OAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,OAJA,EAIA;AACA,aAAA,OAAA,KAAA,KAAA,IAAA,CAAA,GAAA,GAAA,MAAA,GAAA,UAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,WAFA,GAEA;AACA,6BAAA,MAAA,CAAA,IAAA,CAAA,GADA;AAEA,iCAAA,MAAA,CAAA,IAAA,CAAA,WAFA;AAGA,8BAAA,MAAA,CAAA,IAAA,CAAA,QAHA;AAIA,0BAAA,MAAA,CAAA,OAJA;AAKA,+BAAA,IAAA,CAAA,GAAA;AALA,iBAFA;AAAA;AAAA,uBAUA,MAAA,CAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,GAAA,CAAA,WAAA,CAVA;;AAAA;AAYA,gBAAA,MAAA,CAAA,OAAA,GAAA,EAAA;;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,YAAA,EAAA,cAAA,CAAA;AAAA,kBAAA,QAAA,EAAA;AAAA,iBAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AArBA;AAfA,CAAA","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <header>\n      <h1>Ms23</h1>\n      <button @click=\"logout\">Logout!</button>\n    </header>\n\n    <section>\n      <main>\n        <div v-for=\"(msg, index) in messages\" v-bind:key=\"'index-'+index\"\n             :class=\"['message', sentOrReceived(msg.userUID)]\">\n          <img :src=\"msg.photoURL\" :alt=\"msg.displayName\">\n          <p>{{ msg.text }}</p>\n        </div>\n\n        <div ref=\"scrollable\"></div>\n      </main>\n\n      <form v-on:submit.prevent=\"sendMessage\">\n        <input v-model=\"message\" type=\"text\" placeholder=\"Enter your message!\">\n        <button :disabled=\"!message\" type=\"submit\"> send </button>\n      </form>\n    </section>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase'\n\nexport default {\n  mounted() {\n    this.db.collection('messages').orderBy('createdAt')\n        .onSnapshot(querySnap => {\n          this.messages = querySnap.docs.map(doc => doc.data())\n        })\n  },\n  data() {\n    return {\n      user: firebase.auth().currentUser,\n      db: firebase.firestore(),\n      message: '',\n      messages: [],\n    }\n  },\n  methods: {\n    logout() {\n      firebase.auth().signOut()\n    },\n    sentOrReceived(userUID) {\n      return userUID === this.user.uid ? 'sent' : 'received'\n    },\n    async sendMessage() {\n\n      const messageInfo = {\n        'userUID': this.user.uid,\n        'displayName': this.user.displayName,\n        'photoURL': this.user.photoURL,\n        'text': this.message,\n        'createdAt': Date.now(),\n      }\n\n      await this.db.collection('messages').add(messageInfo)\n\n      this.message = ''\n      this.$refs['scrollable'].scrollIntoView({ behavior: 'smooth' })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  body {\n    margin: 0;\n    font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Roboto\",\"Oxygen\",\"Ubuntu\",\"Cantarell\",\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif;\n    background-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    text-align: center;\n    max-width: 728px;\n    margin: 0 auto;\n\n    header {\n      background-color: #292929;\n      height: 10vh;\n      min-height: 50px;\n      color: rgb(255, 255, 255);\n      position: fixed;\n      width: 100%;\n      max-width: 728px;\n      top: 0;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      z-index: 99;\n      padding: 10px;\n      box-sizing: border-box;\n      border-radius: 10px;\n    }\n\n    section {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      min-height: 100vh;\n      background-color: rgb(12, 12, 12);\n\n      main {\n        padding: 10px;\n        height: 75vh;\n        margin: 10vh 0 10vh;\n        overflow-y: scroll;\n        display: flex;\n        flex-direction: column;\n\n        &::-webkit-scrollbar {\n          width: 0.25rem;\n        }\n\n        &::-webkit-scrollbar-track {\n          background: #000000;\n        }\n\n        &::-webkit-scrollbar-thumb {\n          background: #838188;\n        }\n      }\n\n      form {\n        height: 10vh;\n        position: fixed;\n        bottom: 0;\n        background-color: rgb(14, 13, 13);\n        width: 100%;\n        max-width: 728px;\n        display: flex;\n        font-size: 1.5rem;\n\n        button {\n          width: 20%;\n          background-color: rgb(27, 27, 185);\n        }\n\n        input {\n          line-height: 1.5;\n          width: 100%;\n          font-size: 1.5rem;\n          background: rgb(8, 8, 8);\n          color: white;\n          outline: none;\n          border: 5px;\n          border-color: #838188;\n          border-radius: 10px;\n          padding: 0 10px;\n        }\n      }\n    }\n\n    button {\n      background-color: #0b93f6; /* Green */\n      border: 5px;\n      border-radius: 10px;\n      color: white;\n      padding: 15px 32px;\n      text-align: center;\n      text-decoration: none;\n      display: inline-block;\n      cursor: pointer;\n      font-size: 1.25rem;\n\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n    }\n\n    button, input {\n      color: #fff;\n      border: none;\n    }\n\n    p {\n      max-width: 500px;\n      margin-bottom: 12px;\n      line-height: 24px;\n      padding: 10px 20px;\n      border-radius: 25px;\n      position: relative;\n      color: white;\n      text-align: center;\n    }\n\n    .message {\n      display: flex;\n      align-items: center;\n\n      &.received {\n        p {\n          background: #464646;\n          color: rgb(255, 255, 255);\n        }\n      }\n\n      &.sent {\n        flex-direction: row-reverse;\n\n        p {\n          color: #fff;\n          background: #0b93f6;\n          align-self: flex-end;\n        }\n      }\n\n      img {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        margin: 2px 5px;\n      }\n\n      p {\n        max-width: 500px;\n        margin-bottom: 12px;\n        line-height: 24px;\n        padding: 10px 20px;\n        border-radius: 25px;\n        position: relative;\n        color: #fff;\n        text-align: center;\n      }\n\n\n    }\n  }\n\n</style>"],"sourceRoot":"src/components"}]}